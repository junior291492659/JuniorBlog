[{"D:\\git_workspace\\junior-blog\\src\\index.tsx":"1","D:\\git_workspace\\junior-blog\\src\\reportWebVitals.ts":"2","D:\\git_workspace\\junior-blog\\src\\App.tsx":"3","D:\\git_workspace\\junior-blog\\src\\components\\Hello\\index.tsx":"4","D:\\git_workspace\\junior-blog\\src\\components\\AnotherHello\\index.tsx":"5","D:\\git_workspace\\junior-blog\\src\\components\\Header\\index.tsx":"6","D:\\git_workspace\\junior-blog\\src\\pages\\Blog\\index.tsx":"7","D:\\git_workspace\\junior-blog\\src\\components\\Loader\\index.tsx":"8","D:\\git_workspace\\junior-blog\\src\\components\\Container\\index.tsx":"9","D:\\git_workspace\\junior-blog\\src\\pages\\Blog\\blog-article-introduction.tsx":"10","D:\\git_workspace\\junior-blog\\src\\components\\LeeCard\\index.tsx":"11","D:\\git_workspace\\junior-blog\\src\\pages\\Blog\\blog-detail.tsx":"12","D:\\git_workspace\\junior-blog\\src\\pages\\Blog\\mockData.tsx":"13","D:\\git_workspace\\junior-blog\\src\\components\\ArticleMenu\\index.tsx":"14","D:\\git_workspace\\junior-blog\\src\\pages\\Admin\\Login\\index.tsx":"15","D:\\git_workspace\\junior-blog\\src\\api\\service.ts":"16","D:\\git_workspace\\junior-blog\\src\\api\\index.ts":"17","D:\\git_workspace\\junior-blog\\src\\pages\\Admin\\Main\\index.tsx":"18","D:\\git_workspace\\junior-blog\\src\\utils\\useLocalStorage.ts":"19","D:\\git_workspace\\junior-blog\\src\\pages\\Admin\\Main\\AddArticle\\index.tsx":"20","D:\\git_workspace\\junior-blog\\src\\pages\\Admin\\Main\\IndexPage\\index.tsx":"21","D:\\git_workspace\\junior-blog\\src\\components\\EveryDaySentence\\index.tsx":"22","D:\\git_workspace\\junior-blog\\src\\components\\EveryDaySentence\\test.tsx":"23","D:\\git_workspace\\junior-blog\\src\\pages\\Admin\\ImageUpload\\index.tsx":"24","D:\\git_workspace\\junior-blog\\src\\pages\\Admin\\ArticleList\\index.tsx":"25","D:\\git_workspace\\junior-blog\\src\\const\\index.ts":"26","D:\\git_workspace\\junior-blog\\src\\components\\Tocify\\index.tsx":"27","D:\\git_workspace\\junior-blog\\src\\pages\\Admin\\DraftList\\index.tsx":"28","D:\\git_workspace\\junior-blog\\src\\components\\imperative-dialog\\index.tsx":"29","D:\\git_workspace\\junior-blog\\src\\components\\image-viewer\\index.tsx":"30","D:\\git_workspace\\junior-blog\\src\\components\\image-viewer\\cssMixin.tsx":"31","D:\\git_workspace\\junior-blog\\src\\components\\image-viewer\\toolbar.tsx":"32","D:\\git_workspace\\junior-blog\\src\\components\\image-viewer\\toolbar\\close.tsx":"33","D:\\git_workspace\\junior-blog\\src\\components\\image-viewer\\hooks.tsx":"34","D:\\git_workspace\\junior-blog\\src\\components\\plain-modal\\click.tsx":"35","D:\\git_workspace\\junior-blog\\src\\components\\plain-modal\\index.tsx":"36","D:\\git_workspace\\junior-blog\\src\\components\\image-viewer\\toolbar\\button.tsx":"37","D:\\git_workspace\\junior-blog\\src\\components\\image-viewer\\toolbar\\divider.tsx":"38","D:\\git_workspace\\junior-blog\\src\\components\\plain-modal\\styles.tsx":"39","D:\\git_workspace\\junior-blog\\src\\pages\\Interact\\index.tsx":"40","D:\\git_workspace\\junior-blog\\src\\components\\Reply\\index.tsx":"41","D:\\git_workspace\\junior-blog\\src\\components\\QQCard\\index.tsx":"42","D:\\git_workspace\\junior-blog\\src\\components\\WechatCard\\index.tsx":"43","D:\\git_workspace\\junior-blog\\src\\pages\\Images\\index.tsx":"44","D:\\git_workspace\\junior-blog\\src\\pages\\Pictures\\index.js":"45","D:\\git_workspace\\junior-blog\\src\\components\\Images\\index.tsx":"46","D:\\git_workspace\\junior-blog\\src\\components\\ArticleTag\\index.tsx":"47","D:\\git_workspace\\junior-blog\\src\\pages\\About\\index.tsx":"48"},{"size":449,"mtime":1608014455962,"results":"49","hashOfConfig":"50"},{"size":425,"mtime":499162500000,"results":"51","hashOfConfig":"50"},{"size":2519,"mtime":1610677171380,"results":"52","hashOfConfig":"50"},{"size":1028,"mtime":1607674880842,"results":"53","hashOfConfig":"50"},{"size":324,"mtime":1607675095000,"results":"54","hashOfConfig":"50"},{"size":4535,"mtime":1614136812369,"results":"55","hashOfConfig":"50"},{"size":2525,"mtime":1610347372605,"results":"56","hashOfConfig":"50"},{"size":561,"mtime":1613874788396,"results":"57","hashOfConfig":"50"},{"size":1342,"mtime":1610354356811,"results":"58","hashOfConfig":"50"},{"size":4240,"mtime":1608707301582,"results":"59","hashOfConfig":"50"},{"size":2512,"mtime":1614050847273,"results":"60","hashOfConfig":"50"},{"size":8403,"mtime":1614136812370,"results":"61","hashOfConfig":"50"},{"size":900,"mtime":1608016552596,"results":"62","hashOfConfig":"50"},{"size":1734,"mtime":1608273581374,"results":"63","hashOfConfig":"50"},{"size":3453,"mtime":1610346733291,"results":"64","hashOfConfig":"50"},{"size":5053,"mtime":1610670894667,"results":"65","hashOfConfig":"50"},{"size":1164,"mtime":1614051008395,"results":"66","hashOfConfig":"50"},{"size":5482,"mtime":1610670506667,"results":"67","hashOfConfig":"50"},{"size":2925,"mtime":1608086129643,"results":"68","hashOfConfig":"50"},{"size":15526,"mtime":1614049742213,"results":"69","hashOfConfig":"50"},{"size":822,"mtime":1608100736826,"results":"70","hashOfConfig":"50"},{"size":3412,"mtime":1614051008396,"results":"71","hashOfConfig":"50"},{"size":8270,"mtime":1608706664302,"results":"72","hashOfConfig":"50"},{"size":4762,"mtime":1610671360402,"results":"73","hashOfConfig":"50"},{"size":5040,"mtime":1608281078780,"results":"74","hashOfConfig":"50"},{"size":532,"mtime":1610671104228,"results":"75","hashOfConfig":"50"},{"size":2020,"mtime":1614049738017,"results":"76","hashOfConfig":"50"},{"size":5065,"mtime":1608707076736,"results":"77","hashOfConfig":"50"},{"size":1883,"mtime":1608467645498,"results":"78","hashOfConfig":"50"},{"size":7687,"mtime":1594974360917,"results":"79","hashOfConfig":"50"},{"size":411,"mtime":1594541334979,"results":"80","hashOfConfig":"50"},{"size":3156,"mtime":1608707038328,"results":"81","hashOfConfig":"50"},{"size":957,"mtime":1594541334979,"results":"82","hashOfConfig":"50"},{"size":10397,"mtime":1608466526829,"results":"83","hashOfConfig":"50"},{"size":336,"mtime":1594541334979,"results":"84","hashOfConfig":"50"},{"size":853,"mtime":1594541334979,"results":"85","hashOfConfig":"50"},{"size":1123,"mtime":1608466392901,"results":"86","hashOfConfig":"50"},{"size":627,"mtime":1594541334979,"results":"87","hashOfConfig":"50"},{"size":1289,"mtime":1594541334979,"results":"88","hashOfConfig":"50"},{"size":18054,"mtime":1610347417473,"results":"89","hashOfConfig":"50"},{"size":694,"mtime":1608604911846,"results":"90","hashOfConfig":"50"},{"size":552,"mtime":1610334886719,"results":"91","hashOfConfig":"50"},{"size":584,"mtime":1610334911967,"results":"92","hashOfConfig":"50"},{"size":8461,"mtime":1610671448114,"results":"93","hashOfConfig":"50"},{"size":7892,"mtime":1608637015703,"results":"94","hashOfConfig":"50"},{"size":9399,"mtime":1610671131600,"results":"95","hashOfConfig":"50"},{"size":1831,"mtime":1608705928534,"results":"96","hashOfConfig":"50"},{"size":5317,"mtime":1610347394539,"results":"97","hashOfConfig":"50"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},"1pbi381",{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"105","usedDeprecatedRules":"100"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"119","usedDeprecatedRules":"100"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"128"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"131","messages":"132","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"133","usedDeprecatedRules":"100"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"140","messages":"141","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"142","usedDeprecatedRules":"100"},{"filePath":"143","messages":"144","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"145","usedDeprecatedRules":"100"},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"148","messages":"149","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"150","messages":"151","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"156","messages":"157","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"158","messages":"159","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"160","messages":"161","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"162","messages":"163","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"164","messages":"165","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"166","messages":"167","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"168","messages":"169","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"170","messages":"171","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"172","messages":"173","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"174","messages":"175","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"176","messages":"177","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"178","messages":"179","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"180","messages":"181","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"182","messages":"183","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"184","messages":"185","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"186","usedDeprecatedRules":"100"},{"filePath":"187","messages":"188","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"189","messages":"190","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"191","messages":"192","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"193","messages":"194","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"195","messages":"196","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"197","messages":"198","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"199","usedDeprecatedRules":"100"},{"filePath":"200","messages":"201","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"202","usedDeprecatedRules":"100"},{"filePath":"203","messages":"204","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"205","usedDeprecatedRules":"100"},"D:\\git_workspace\\junior-blog\\src\\index.tsx",[],["206","207"],"D:\\git_workspace\\junior-blog\\src\\reportWebVitals.ts",[],"D:\\git_workspace\\junior-blog\\src\\App.tsx",["208"],"import React from \"react\";\nimport \"./App.css\";\nimport { Helmet, HelmetProvider } from \"react-helmet-async\";\nimport Loader from \"./components/Loader\";\nimport Blog from \"./pages/Blog\";\n// import Login from \"./pages/Admin/Login\";\n// import BlogDetail from \"./pages/Blog/blog-detail\";\n// import Main from \"./pages/Admin/Main\";\n// import Interact from \"./pages/Interact\";\n// import Images from \"./pages/Images\";\n// import About from \"./pages/About\";\nimport { Spin, BackTop } from \"antd\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nconst BlogDetail = React.lazy(\n  () =>\n    import(\n      /* webpackChunkName:\"BlogDetail\" */ /* webpackPrefetch: true */ \"./pages/Blog/blog-detail\"\n    )\n);\nconst Login = React.lazy(\n  () => import(/* webpackChunkName:\"Login\" */ \"./pages/Admin/Login\")\n);\nconst Main = React.lazy(\n  () => import(/* webpackChunkName:\"Main\" */ \"./pages/Admin/Main\")\n);\nconst Images = React.lazy(\n  () =>\n    import(\n      /* webpackChunkName:\"Images\" */ /* webpackPrefetch: true */ \"./pages/Images\"\n    )\n);\nconst Interact = React.lazy(\n  () =>\n    import(\n      /* webpackChunkName:\"Interact\" */ /* webpackPrefetch: true */ \"./pages/Interact\"\n    )\n);\nconst About = React.lazy(\n  () =>\n    import(\n      /* webpackChunkName:\"About\" */ /* webpackPrefetch: true */ \"./pages/About\"\n    )\n);\nconst PlaceHolder = React.cloneElement(\n  <Loader loading={true} />,\n  {\n    style: { top: \"auto\", color: \"#f1c000\" },\n  },\n  <div style={{ width: \"100vw\", height: \"100vh\" }}></div>\n);\n\nfunction App() {\n  return (\n    <HelmetProvider>\n      <Router>\n        <Helmet>\n          <meta charSet=\"utf-8\" />\n        </Helmet>\n        <div className=\"App\">\n          <React.Suspense fallback={PlaceHolder}>\n            <Switch>\n              <Route path=\"/\" exact component={Blog}></Route>\n              <Route\n                path=\"/blogdetail/:id\"\n                exact\n                component={BlogDetail}\n              ></Route>\n              <Route path=\"/blog/:tag\" exact component={Blog}></Route>\n              <Route path=\"/login\" exact component={Login}></Route>\n              <Route path=\"/admin\" component={Main}></Route>\n              <Route path=\"/images\" exact component={Images}></Route>\n              <Route path=\"/interact\" exact component={Interact}></Route>\n              <Route path=\"/about\" exact component={About}></Route>\n            </Switch>\n          </React.Suspense>\n        </div>\n        <BackTop />\n      </Router>\n    </HelmetProvider>\n  );\n}\n\nexport default App;\n","D:\\git_workspace\\junior-blog\\src\\components\\Hello\\index.tsx",[],["209","210"],"D:\\git_workspace\\junior-blog\\src\\components\\AnotherHello\\index.tsx",[],"D:\\git_workspace\\junior-blog\\src\\components\\Header\\index.tsx",[],"D:\\git_workspace\\junior-blog\\src\\pages\\Blog\\index.tsx",[],"D:\\git_workspace\\junior-blog\\src\\components\\Loader\\index.tsx",[],"D:\\git_workspace\\junior-blog\\src\\components\\Container\\index.tsx",["211","212"],"import React, { PropsWithChildren, ReactNode } from \"react\";\r\nimport { Row, Col } from \"antd\";\r\nimport EveryDaySentence from \"../EveryDaySentence\";\r\nimport { Helmet } from \"react-helmet-async\";\r\nimport style from \"./index.module.less\";\r\n\r\ninterface ContainerProps {\r\n  title: string;\r\n  // children: ReactNode;\r\n}\r\n\r\nconst Container = (props: React.PropsWithChildren<ContainerProps>) => {\r\n  const content = React.Children.map(props.children, (child) => child);\r\n  // const [main, ...aside] = content;\r\n\r\n  return (\r\n    <div className={style.center}>\r\n      <Helmet>\r\n        <title>{props.title} | Junior_Lee的个人博客</title>\r\n      </Helmet>\r\n\r\n      {/* <div className={style[\"everyday-sentence\"]}>\r\n        <Popover placement=\"bottom\" content={EveryDaySentence} trigger=\"hover\">\r\n          <span>\r\n            台阶是一层一层筑起的，目前的现实是未来理想的基础。 —— 徐特立\r\n          </span>\r\n        </Popover>\r\n      </div> */}\r\n      <EveryDaySentence />\r\n\r\n      <Row justify=\"space-between\">\r\n        <Col xs={24} sm={24} md={24} lg={17} xl={17} id=\"main-left\">\r\n          {content && content[0]}\r\n        </Col>\r\n        <Col xs={0} sm={0} md={0} lg={7} xl={7} id=\"main-right\">\r\n          {content && content[1]}\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Container;\r\n","D:\\git_workspace\\junior-blog\\src\\pages\\Blog\\blog-article-introduction.tsx",[],"D:\\git_workspace\\junior-blog\\src\\components\\LeeCard\\index.tsx",[],"D:\\git_workspace\\junior-blog\\src\\pages\\Blog\\blog-detail.tsx",["213","214"],"D:\\git_workspace\\junior-blog\\src\\pages\\Blog\\mockData.tsx",[],["215","216"],"D:\\git_workspace\\junior-blog\\src\\components\\ArticleMenu\\index.tsx",["217"],"D:\\git_workspace\\junior-blog\\src\\pages\\Admin\\Login\\index.tsx",["218","219"],"import React, { useEffect, useState } from \"react\";\r\nimport { Helmet } from \"react-helmet-async\";\r\nimport { Form, Input, Button, message } from \"antd\";\r\nimport Loader from \"../../../components/Loader\";\r\nimport style from \"./index.module.less\";\r\nimport { login, checkLogin, ILogin } from \"../../../api/service\";\r\nimport { useLocalStorage } from \"../../../utils/useLocalStorage\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport md5 from \"md5\";\r\n// import { withRouter } from \"react-router-dom\";\r\n\r\nconst layout = {\r\n  labelCol: { span: 8 },\r\n  wrapperCol: { span: 16 },\r\n};\r\nconst tailLayout = {\r\n  wrapperCol: { offset: 4, span: 20 },\r\n};\r\n\r\ninterface LoginData extends ILogin {\r\n  remember: boolean;\r\n}\r\n\r\nfunction Login(props: RouteComponentProps) {\r\n  const [form] = Form.useForm();\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const [token, setToken, removeToken] = useLocalStorage(\"token\", null, {\r\n    raw: true,\r\n  });\r\n\r\n  const onFinish = (values: LoginData) => {\r\n    console.log(\"Success:\", values);\r\n    login({ username: values.username, password: md5(values.password) })\r\n      .then((res) => {\r\n        console.log(\"res in login\", res);\r\n        if (res.code === 200) {\r\n          message.success(\"登录成功\");\r\n          //是否记住token\r\n          setToken(res.token);\r\n\r\n          // window.location.replace(\"/admin\");\r\n          props.history.replace(\"/admin\");\r\n        } else {\r\n          message.error(res.message);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error\", error);\r\n      });\r\n  };\r\n\r\n  const onFinishFailed = (errorInfo: any) => {\r\n    console.log(\"Failed:\", errorInfo);\r\n  };\r\n\r\n  const onReset = () => {\r\n    form.resetFields();\r\n  };\r\n\r\n  // 验证是否已经登录，若已经登录则直接跳转至后台界面\r\n  useEffect(() => {\r\n    checkLogin().then((res) => {\r\n      if (res.code === 200) {\r\n        console.log(\"在登录界面。检测到已经登录\");\r\n        window.location.replace(\"/admin\");\r\n      }\r\n      setLoading(false);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <Loader loading={loading}>\r\n      <div className={style[\"form-container\"]}>\r\n        <Helmet>\r\n          <title>登录 | Junior_Lee的个人博客管理</title>\r\n        </Helmet>\r\n        <div className={style[\"title\"]}>Junior Lee博客后台管理登录</div>\r\n        <Form\r\n          {...layout}\r\n          form={form}\r\n          name=\"basic\"\r\n          initialValues={{ remember: true }}\r\n          onFinish={onFinish}\r\n          onFinishFailed={onFinishFailed}\r\n        >\r\n          <Form.Item\r\n            label=\"用户名\"\r\n            name=\"username\"\r\n            rules={[{ required: true, message: \"Please input your username!\" }]}\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            label=\"密码\"\r\n            name=\"password\"\r\n            rules={[{ required: true, message: \"Please input your password!\" }]}\r\n          >\r\n            <Input.Password />\r\n          </Form.Item>\r\n\r\n          <Form.Item {...tailLayout}>\r\n            <Button type=\"primary\" htmlType=\"submit\">\r\n              Submit\r\n            </Button>\r\n            <Button\r\n              className={style[\"reset\"]}\r\n              htmlType=\"button\"\r\n              onClick={onReset}\r\n            >\r\n              Reset\r\n            </Button>\r\n          </Form.Item>\r\n        </Form>\r\n      </div>\r\n    </Loader>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","D:\\git_workspace\\junior-blog\\src\\api\\service.ts",[],"D:\\git_workspace\\junior-blog\\src\\api\\index.ts",[],"D:\\git_workspace\\junior-blog\\src\\pages\\Admin\\Main\\index.tsx",[],"D:\\git_workspace\\junior-blog\\src\\utils\\useLocalStorage.ts",["220"],"import { useState, useCallback, Dispatch, SetStateAction } from \"react\";\r\n\r\nconst isClient = typeof window === \"object\";\r\n\r\ntype parserOptions<T> =\r\n  | {\r\n      raw: true;\r\n    }\r\n  | {\r\n      raw: false;\r\n      serializer: (value: T) => string;\r\n      deserializer: (value: string) => T;\r\n    };\r\n\r\nconst noop = () => {};\r\n\r\nexport const useLocalStorage = <T>(\r\n  key: string,\r\n  initialValue?: T,\r\n  options?: parserOptions<T>\r\n): [T | undefined, Dispatch<SetStateAction<T | undefined>>, () => void] => {\r\n  if (!isClient) {\r\n    return [initialValue as T, noop, noop];\r\n  }\r\n  if (!key) {\r\n    throw new Error(\"useLocalStorage key may not be falsy\");\r\n  }\r\n\r\n  const deserializer = options\r\n    ? options.raw\r\n      ? (value: any) => value\r\n      : options.deserializer\r\n    : JSON.parse;\r\n\r\n  // eslint-disable-next-line react-hooks/rules-of-hooks\r\n  const [state, setState] = useState<T | undefined>(() => {\r\n    try {\r\n      const serializer = options\r\n        ? options.raw\r\n          ? String\r\n          : options.serializer\r\n        : JSON.stringify;\r\n\r\n      const localStorageValue = localStorage.getItem(key);\r\n      if (localStorageValue !== null) {\r\n        return deserializer(localStorageValue);\r\n      } else {\r\n        initialValue && localStorage.setItem(key, serializer(initialValue));\r\n        return initialValue;\r\n      }\r\n    } catch {\r\n      // If user is in private mode or has storage restriction\r\n      // localStorage can throw. JSON.parse and JSON.stringify\r\n      // can throw, too.\r\n      return initialValue;\r\n    }\r\n  });\r\n\r\n  // eslint-disable-next-line react-hooks/rules-of-hooks\r\n  const set: Dispatch<SetStateAction<T | undefined>> = useCallback(\r\n    (valOrFunc) => {\r\n      try {\r\n        const newState =\r\n          typeof valOrFunc === \"function\"\r\n            ? (valOrFunc as Function)(state)\r\n            : valOrFunc;\r\n        if (typeof newState === \"undefined\") return;\r\n        let value: string;\r\n\r\n        if (options)\r\n          if (options.raw)\r\n            if (typeof newState === \"string\") value = newState;\r\n            else value = JSON.stringify(newState);\r\n          else if (options.serializer) value = options.serializer(newState);\r\n          else value = JSON.stringify(newState);\r\n        else value = JSON.stringify(newState);\r\n\r\n        localStorage.setItem(key, value);\r\n        setState(deserializer(value));\r\n      } catch {\r\n        // If user is in private mode or has storage restriction\r\n        // localStorage can throw. Also JSON.stringify can throw.\r\n      }\r\n    },\r\n    [key, setState]\r\n  );\r\n\r\n  // eslint-disable-next-line react-hooks/rules-of-hooks\r\n  const remove = useCallback(() => {\r\n    try {\r\n      localStorage.removeItem(key);\r\n      setState(undefined);\r\n    } catch {\r\n      // If user is in private mode or has storage restriction\r\n      // localStorage can throw.\r\n    }\r\n  }, [key, setState]);\r\n\r\n  return [state, set, remove];\r\n};\r\n","D:\\git_workspace\\junior-blog\\src\\pages\\Admin\\Main\\AddArticle\\index.tsx",["221"],"import React, { useEffect, useState } from \"react\";\r\nimport moment from \"moment\";\r\nimport marked from \"marked\";\r\nimport hljs from \"highlight.js\";\r\nimport \"highlight.js/styles/monokai-sublime.css\";\r\nimport style from \"./index.module.less\";\r\nimport \"../../../../publicCSS/style.css\";\r\nimport {\r\n  Row,\r\n  Col,\r\n  Input,\r\n  Select,\r\n  Button,\r\n  DatePicker,\r\n  message,\r\n  Modal,\r\n} from \"antd\";\r\nimport {\r\n  addBlogArticle,\r\n  AddBlogArticleI,\r\n  BlogArticleListI,\r\n  getBlogArticleById,\r\n  updateBlogArticleById,\r\n  updateBlogArticleByIdI,\r\n} from \"../../../../api/service\";\r\nimport Loader from \"../../../../components/Loader\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport imageselect from \"../../../../image/imageselect.png\";\r\nimport ImageUpload from \"../../../Admin/ImageUpload\";\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\n\r\nconst renderer = new marked.Renderer();\r\nmarked.setOptions({\r\n  renderer: renderer,\r\n  gfm: true, //启动类似Github样式的Markdown,填写true或者false\r\n  pedantic: false, //只解析符合Markdown定义的，不修正Markdown的错误。填写true或者false\r\n  sanitize: false, //原始输出，忽略HTML标签，这个作为一个开发人员，一定要写flase\r\n  //tables: true, //支持Github形式的表格，必须打开gfm选项\r\n  breaks: true, //支持Github换行符，必须打开gfm选项，填写true或者false\r\n  smartLists: true, //优化列表输出，这个填写ture之后，你的样式会好看很多，所以建议设置成ture\r\n  smartypants: true,\r\n  highlight: function (code) {\r\n    return hljs.highlightAuto(code).value;\r\n  },\r\n});\r\n\r\nexport interface ArticleI {\r\n  articleId: number; // 0; // 文章的ID，如果是0说明是新增加，如果不是0，说明是修改\r\n  // oldarticleTitle: \"\"; //以前的标题(保存后在数据库依照此标题修改)\r\n  articleTitle: string; // \"\"; //文章标题\r\n  articleContent: string; // \"\"; //markdown的编辑内容\r\n  markdownContent: string; // \"预览内容\"; //html内容\r\n  introducemd: string; // \"\"; //简介的markdown内容\r\n  introducehtml: string; // \"等待编辑\"; //简介的html内容\r\n  publishDate: string; // \"\"; //发布日期\r\n  updateDate: string; // \"\"; //修改日志的日期(未使用)\r\n  // typeInfo: []; // 文章类别信息(未使用)\r\n  selectedType: number | string; //选择的文章类别\r\n  sourceType: number | string; // \"\"; //文章来源  原创 || 转载\r\n  introduceImage: string; // 列表页简介图片\r\n\r\n  //   disabled: false; //修改文章后按钮不可点击\r\n  //   titledisabled: false; //标题改变控制按钮不可点击\r\n}\r\n\r\ninterface RouterInfo {\r\n  id: string;\r\n}\r\n\r\nexport default function AddArticle(props: RouteComponentProps<RouterInfo>) {\r\n  const initial: ArticleI = {\r\n    articleId: 0, // 文章的ID，如果是0说明是新增加，如果不是0，说明是修改\r\n    articleTitle: \"\", //文章标题\r\n    articleContent: \"\", //markdown的编辑内容\r\n    markdownContent: \"预览内容\", //html内容\r\n    introducemd: \"\", //简介的markdown内容\r\n    introducehtml: \"等待编辑\", //简介的html内容\r\n    publishDate: \"\", //发布日期\r\n    updateDate: \"\", //修改日志的日期(未使用)\r\n    // typeInfo: [], // 文章类别信息(未使用)\r\n    selectedType: -1, //选择的文章类别\r\n    sourceType: -1, //文章来源\r\n    introduceImage: \"\",\r\n  };\r\n  const [article, setArticle] = useState<ArticleI>(initial);\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [visible, setVisible] = useState<boolean>(false);\r\n\r\n  const changeContent = (value: string) => {\r\n    const html = marked(value);\r\n    setArticle({ ...article, articleContent: value, markdownContent: html });\r\n  };\r\n\r\n  const changeIntroduce = (value: string) => {\r\n    const html = marked(value);\r\n    setArticle({ ...article, introducemd: value, introducehtml: html });\r\n  };\r\n\r\n  const publishArticle = () => {\r\n    if (condition()) {\r\n      message.success(\"存储校验通过\");\r\n      if (!article.articleId) {\r\n        message.success(\"新的存储\");\r\n        const article_title = article.articleTitle;\r\n        const article_content = article.articleContent;\r\n        const markdown_content = article.markdownContent;\r\n        const introducemd = article.introducemd;\r\n        const introducehtml = article.introducehtml;\r\n        const publish_date = article.publishDate;\r\n        const update_date = \"\";\r\n        const article_type = article.selectedType as number;\r\n        const article_source_type = article.sourceType as number;\r\n        const introduce_image = article.introduceImage;\r\n\r\n        const data: AddBlogArticleI = {\r\n          article_title,\r\n          article_content,\r\n          markdown_content,\r\n          introducemd,\r\n          introducehtml,\r\n          publish_date,\r\n          update_date,\r\n          article_type,\r\n          article_source_type,\r\n          introduce_image,\r\n        };\r\n\r\n        setLoading(true);\r\n        addBlogArticle(data)\r\n          .then((res) => {\r\n            setLoading(false);\r\n            if (res.code === 200) {\r\n              message.success(res.message);\r\n              props.history.push(\"/admin/articleList\");\r\n            } else {\r\n              message.error(res.message);\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            setLoading(false);\r\n            message.error(\"不好意思，服务器出错了\");\r\n            console.log(error);\r\n          });\r\n      } else {\r\n        message.success(\"修改之前已存储的\");\r\n        const id = article.articleId;\r\n        const article_title = article.articleTitle;\r\n        const article_content = article.articleContent;\r\n        const markdown_content = article.markdownContent;\r\n        const introducemd = article.introducemd;\r\n        const introducehtml = article.introducehtml;\r\n        const publish_date = article.publishDate;\r\n        const update_date = \"\";\r\n        const article_type = article.selectedType as number;\r\n        const article_source_type = article.sourceType as number;\r\n        const introduce_image = article.introduceImage;\r\n\r\n        const data: updateBlogArticleByIdI = {\r\n          id,\r\n          article_title,\r\n          article_content,\r\n          markdown_content,\r\n          introducemd,\r\n          introducehtml,\r\n          publish_date,\r\n          update_date,\r\n          article_type,\r\n          article_source_type,\r\n          introduce_image,\r\n        };\r\n        updateBlogArticleById(data)\r\n          .then((res) => {\r\n            setLoading(false);\r\n            if (res.code === 200) {\r\n              message.success(res.message);\r\n              props.history.push(\"/admin/articleList\");\r\n            } else {\r\n              message.error(res.message);\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            setLoading(false);\r\n            message.error(\"不好意思，服务器出错了\");\r\n            console.log(error);\r\n          });\r\n      }\r\n    }\r\n  };\r\n\r\n  const saveArticle = () => {\r\n    if (condition()) {\r\n      message.success(\"存储校验通过\");\r\n      if (!article.articleId) {\r\n        message.success(\"新的存储\");\r\n      } else {\r\n      }\r\n    }\r\n  };\r\n\r\n  const condition = () => {\r\n    if (!article.articleTitle) {\r\n      message.warning(\"文章标题不能为空\");\r\n      return false;\r\n    } else if (article.selectedType === -1) {\r\n      message.warning(\"必须选择文章类型\");\r\n      return false;\r\n    } else if (article.sourceType === -1) {\r\n      message.warning(\"文章来源不能为空\");\r\n      return false;\r\n    } else if (!article.articleContent) {\r\n      message.warning(\"文章内容不能为空\");\r\n      return false;\r\n    } else if (!article.introducemd) {\r\n      message.warning(\"文章简介不能为空\");\r\n      return false;\r\n    } else if (!article.publishDate) {\r\n      message.warning(\"发布日期不能为空\");\r\n      return false;\r\n    } else if (!article.introduceImage) {\r\n      message.warning(\"简介图片不能为空\");\r\n    }\r\n    return true;\r\n  };\r\n\r\n  // 如果是查看页面，根据url的id初始化data\r\n  useEffect(() => {\r\n    console.log(\"id\", props.match.params.id);\r\n    const id = props.match.params.id;\r\n    if (id) {\r\n      getBlogArticleById(parseInt(id))\r\n        .then((res) => {\r\n          console.log(\"by id\", res);\r\n          if (res.data) {\r\n            const filterData = res.data as BlogArticleListI;\r\n            setArticle({\r\n              articleId: filterData.id,\r\n              articleTitle: filterData.article_title, //文章标题\r\n              articleContent: filterData.article_content, //markdown的编辑内容\r\n              markdownContent: filterData.markdown_content, //html内容\r\n              introducemd: filterData.introducemd, //简介的markdown内容\r\n              introducehtml: filterData.introducehtml, //简介的html内容\r\n              publishDate: filterData.publish_date, //发布日期\r\n              updateDate: filterData.update_date, //修改日志的日期(未使用)\r\n              // typeInfo: [], // 文章类别信息(未使用)\r\n              selectedType: filterData.article_type, //选择的文章类别\r\n              sourceType: filterData.article_source_type, //文章来源\r\n              introduceImage: filterData.introduce_image,\r\n            });\r\n          } else {\r\n            // 文章不存在 TODO直接跳转至首页\r\n            setTimeout(() => {\r\n              message.warning(\"opps,找不到该文章\");\r\n              props.history.replace(\"/admin/articleList\");\r\n            }, 1000);\r\n          }\r\n          setLoading(false);\r\n        })\r\n        .catch((error) => {\r\n          setLoading(false);\r\n          message.error(\"不好意思，服务器出错了\");\r\n          console.log(error);\r\n        });\r\n    }\r\n  }, [props.match.params]);\r\n\r\n  // 监听保存快捷键的 effect\r\n  useEffect(() => {\r\n    const handleSave = (e: KeyboardEvent) => {\r\n      if (\r\n        e.key === \"s\" &&\r\n        (navigator.platform.match(\"Mac\") ? e.metaKey : e.ctrlKey)\r\n      ) {\r\n        e.preventDefault();\r\n        alert(\"modified, saved\");\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"keydown\", handleSave);\r\n\r\n    return () => document.removeEventListener(\"keydown\", handleSave);\r\n  }, []);\r\n  return (\r\n    <Loader loading={loading}>\r\n      <Row gutter={10}>\r\n        {/* 主体内容左侧部分 */}\r\n        <Col span={18}>\r\n          <Row gutter={10}>\r\n            <Col span={16}>\r\n              <Input\r\n                placeholder=\"博客标题\"\r\n                value={article.articleTitle}\r\n                onChange={(e) => {\r\n                  setArticle({ ...article, articleTitle: e.target.value });\r\n                }}\r\n                size=\"large\"\r\n              />\r\n            </Col>\r\n\r\n            <Col span={4} style={{ paddingLeft: \"21px\" }}>\r\n              <Select\r\n                className={style[\"select\"]}\r\n                value={\r\n                  article.selectedType === -1\r\n                    ? \"请选择文章类型\"\r\n                    : article.selectedType\r\n                }\r\n                size=\"large\"\r\n                onChange={(value) =>\r\n                  setArticle({ ...article, selectedType: value })\r\n                }\r\n              >\r\n                <Option value={0}>博客分享</Option>\r\n                <Option value={1}>Leetcode训练</Option>\r\n              </Select>\r\n            </Col>\r\n\r\n            <Col span={4}>\r\n              <Select\r\n                className={style[\"select\"]}\r\n                value={\r\n                  article.sourceType === -1\r\n                    ? \"请选择文章来源\"\r\n                    : article.selectedType\r\n                }\r\n                size=\"large\"\r\n                onChange={(value) =>\r\n                  setArticle({ ...article, sourceType: value })\r\n                }\r\n              >\r\n                <Option value={0}>博主原创</Option>\r\n                <Option value={1}>美文转载</Option>\r\n              </Select>\r\n            </Col>\r\n          </Row>\r\n          <br />\r\n          <Row gutter={10}>\r\n            <Col span={12}>\r\n              <TextArea\r\n                value={article.articleContent}\r\n                className={style[\"markdown-content\"]}\r\n                rows={60}\r\n                placeholder=\"文章内容\"\r\n                onChange={(e) => changeContent(e.target.value)}\r\n              />\r\n            </Col>\r\n            <Col span={12}>\r\n              <div\r\n                className={`${style[\"show-html\"]} markdown`}\r\n                dangerouslySetInnerHTML={{ __html: article.markdownContent }}\r\n              ></div>\r\n            </Col>\r\n          </Row>\r\n        </Col>\r\n        {/* 主体内容右侧部分 */}\r\n        <Col span={6}>\r\n          <Row>\r\n            {/* <Col span={24}> */}\r\n            <Col span={8}>\r\n              <Button size=\"large\" onClick={saveArticle}>\r\n                暂存文章\r\n              </Button>\r\n            </Col>\r\n            <Col span={8}>\r\n              <Button type=\"primary\" size=\"large\" onClick={publishArticle}>\r\n                {article.articleId > 0 ? \"确认修改\" : \"发布文章\"}\r\n              </Button>\r\n            </Col>\r\n            {/* </Col> */}\r\n            <Col span={24}>\r\n              <br />\r\n              <TextArea\r\n                className={style[\"introduce-content\"]}\r\n                rows={8}\r\n                placeholder=\"文章简介\"\r\n                value={article.introducemd}\r\n                onChange={(e) => {\r\n                  changeIntroduce(e.target.value);\r\n                }}\r\n              />\r\n              <br />\r\n              {/* <br /> */}\r\n              {/* <div\r\n                className={`${style[\"introduce-html\"]} markdown`}\r\n                dangerouslySetInnerHTML={{ __html: article.introducehtml }}\r\n              ></div> */}\r\n            </Col>\r\n            <Col span={12}>\r\n              <div className={style[\"date-select\"]}>\r\n                <DatePicker\r\n                  value={\r\n                    !article.publishDate ? null : moment(article.publishDate)\r\n                  }\r\n                  placeholder=\"发布日期\"\r\n                  size=\"large\"\r\n                  onChange={(date, dateString) =>\r\n                    setArticle({ ...article, publishDate: dateString })\r\n                  }\r\n                />\r\n              </div>\r\n            </Col>\r\n            <Col span={12} style={{ display: \"flex\", alignItems: \"flex-end\" }}>\r\n              <div className={style[\"introduce-image-select\"]}>\r\n                <Input\r\n                  placeholder=\"博客简介图片\"\r\n                  value={article.introduceImage}\r\n                  size=\"large\"\r\n                  onChange={(e) => {\r\n                    setArticle({ ...article, introduceImage: e.target.value });\r\n                  }}\r\n                />\r\n              </div>\r\n            </Col>\r\n            <Col span={12} style={{ display: \"flex\", alignItems: \"flex-end\" }}>\r\n              <div\r\n                className={style[\"image-select\"]}\r\n                onClick={() => setVisible(true)}\r\n              >\r\n                <img src={imageselect} alt=\"\" />\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n      <Modal\r\n        visible={visible}\r\n        maskClosable={false}\r\n        width={1366}\r\n        onCancel={() => setVisible(false)}\r\n        onOk={() => setVisible(false)}\r\n      >\r\n        <ImageUpload />\r\n      </Modal>\r\n    </Loader>\r\n  );\r\n}\r\n","D:\\git_workspace\\junior-blog\\src\\pages\\Admin\\Main\\IndexPage\\index.tsx",[],"D:\\git_workspace\\junior-blog\\src\\components\\EveryDaySentence\\index.tsx",[],"D:\\git_workspace\\junior-blog\\src\\components\\EveryDaySentence\\test.tsx",[],"D:\\git_workspace\\junior-blog\\src\\pages\\Admin\\ImageUpload\\index.tsx",[],"D:\\git_workspace\\junior-blog\\src\\pages\\Admin\\ArticleList\\index.tsx",[],"D:\\git_workspace\\junior-blog\\src\\const\\index.ts",[],"D:\\git_workspace\\junior-blog\\src\\components\\Tocify\\index.tsx",[],"D:\\git_workspace\\junior-blog\\src\\pages\\Admin\\DraftList\\index.tsx",[],"D:\\git_workspace\\junior-blog\\src\\components\\imperative-dialog\\index.tsx",[],"D:\\git_workspace\\junior-blog\\src\\components\\image-viewer\\index.tsx",[],"D:\\git_workspace\\junior-blog\\src\\components\\image-viewer\\cssMixin.tsx",[],"D:\\git_workspace\\junior-blog\\src\\components\\image-viewer\\toolbar.tsx",[],"D:\\git_workspace\\junior-blog\\src\\components\\image-viewer\\toolbar\\close.tsx",[],"D:\\git_workspace\\junior-blog\\src\\components\\image-viewer\\hooks.tsx",[],"D:\\git_workspace\\junior-blog\\src\\components\\plain-modal\\click.tsx",[],"D:\\git_workspace\\junior-blog\\src\\components\\plain-modal\\index.tsx",[],"D:\\git_workspace\\junior-blog\\src\\components\\image-viewer\\toolbar\\button.tsx",[],"D:\\git_workspace\\junior-blog\\src\\components\\image-viewer\\toolbar\\divider.tsx",[],"D:\\git_workspace\\junior-blog\\src\\components\\plain-modal\\styles.tsx",[],"D:\\git_workspace\\junior-blog\\src\\pages\\Interact\\index.tsx",["222","223"],"import React, { useEffect, useState } from \"react\";\r\nimport { Row, Col, Input, Form, Button, Switch, message, Divider } from \"antd\";\r\nimport { MailOutlined } from \"@ant-design/icons\";\r\nimport Header from \"../../components/Header\";\r\nimport Container from \"../../components/Container\";\r\nimport Loader from \"../../components/Loader\";\r\nimport LeeCard from \"../../components/LeeCard\";\r\nimport QQCard from \"../../components/QQCard\";\r\nimport WechatCard from \"../../components/WechatCard\";\r\nimport Reply from \"../../components/Reply\";\r\nimport style from \"./index.module.less\";\r\nimport defaultHeadImg from \"../../image/defaultImg.jpg\";\r\nimport genji from \"../../image/genji.png\";\r\nimport moment from \"moment\";\r\nimport LazyLoad from \"react-lazyload\";\r\nimport {\r\n  addInteract,\r\n  AddInteractI,\r\n  getInteract,\r\n  addInteractReply,\r\n  AddInteractReplyI,\r\n  checkLogin,\r\n} from \"../../api/service\";\r\n\r\ninterface ReplyI {\r\n  isReply: boolean;\r\n  replyItem: ReplyItem | null;\r\n}\r\n\r\ninterface ReplyItem {\r\n  id: number;\r\n  name: string;\r\n  context: string;\r\n  email: string;\r\n  is_master: number;\r\n}\r\n\r\ninterface InteractDataI {\r\n  id: number;\r\n  name: string;\r\n  context: string;\r\n  can_reply: number;\r\n  is_master: number;\r\n  email: string;\r\n  create_time: number;\r\n  children: InteractDataChildrenI[];\r\n}\r\n\r\ninterface InteractDataChildrenI {\r\n  id: number;\r\n  name: string;\r\n  context: string;\r\n  email: string;\r\n  is_master: number;\r\n  can_reply: number;\r\n  create_time: number;\r\n  fid: number;\r\n  fname: string;\r\n  femail: string;\r\n  fis_master: number;\r\n}\r\n\r\nfunction Interact() {\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [reply, setReply] = useState<ReplyI | null>({\r\n    isReply: false,\r\n    replyItem: {\r\n      id: 0,\r\n      is_master: 1,\r\n      context: \"hello\",\r\n      name: \"\",\r\n      email: \"\",\r\n    },\r\n  });\r\n  // 添加完邮箱后显示QQ头像\r\n  const [headImg, setHeadImg] = useState<string>(\"\");\r\n  const [singleReply, setSingleReply] = useState<boolean>(false);\r\n  const [interactData, setInteractData] = useState<InteractDataI[]>([]);\r\n  const [counter, setCounter] = useState<number>(0); // 用于提交之后重渲染\r\n  const [form] = Form.useForm();\r\n\r\n  //   console.log(\"interactData.length\", interactData.length, interactData);\r\n\r\n  const addRow = () => {\r\n    // console.log(\"finish\");\r\n    setLoading(true);\r\n\r\n    // 验证邮箱格式\r\n    const emailValue = form.getFieldValue(\"email\").trim();\r\n    if (!/^[\\w-]+@qq\\.com$/i.test(emailValue)) {\r\n      message.error(\"QQ邮箱格式不正确\");\r\n      setTimeout(() => setLoading(false), 2000);\r\n      return;\r\n    }\r\n\r\n    const name = form.getFieldValue(\"name\");\r\n    const context = form.getFieldValue(\"context\");\r\n    const create_time = new Date().getTime() / 1000;\r\n    // console.log(name, context, create_time);\r\n\r\n    if (!reply?.isReply) {\r\n      // 添加留言\r\n      setLoading(true);\r\n      const data: AddInteractI = {\r\n        name,\r\n        context,\r\n        can_reply: !singleReply ? 1 : 0,\r\n        is_master: 0,\r\n        email: emailValue,\r\n        create_time,\r\n      };\r\n      addInteract(data)\r\n        .then((res) => {\r\n          setLoading(false);\r\n          setCounter((counter) => counter + 1);\r\n          message.success(res.message);\r\n        })\r\n        .catch((error) => {\r\n          setLoading(false);\r\n          message.error(\"不好意思，服务器出错了\");\r\n          console.log(error);\r\n        });\r\n    } else {\r\n      // 添加回复\r\n      setLoading(true);\r\n      const data: AddInteractReplyI = {\r\n        name,\r\n        context,\r\n        can_reply: !singleReply ? 1 : 0,\r\n        is_master: 0,\r\n        email: emailValue,\r\n        create_time,\r\n        fid: reply.replyItem?.id as number,\r\n        fname: reply.replyItem?.name as string,\r\n        femail: reply.replyItem?.email as string,\r\n        fis_master: reply.replyItem?.is_master as number,\r\n      };\r\n\r\n      addInteractReply(data)\r\n        .then((res) => {\r\n          setLoading(false);\r\n          setCounter((counter) => counter + 1);\r\n          message.success(res.message);\r\n        })\r\n        .catch((error) => {\r\n          setLoading(false);\r\n          message.error(\"不好意思，服务器出错了\");\r\n          console.log(error);\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleMail = (ev: React.ChangeEvent<HTMLInputElement>) => {\r\n    const value = ev.target.value.trim();\r\n    if (value === \"\" || !/^[\\w-]+@qq\\.com$/i.test(value)) {\r\n      setHeadImg(\"\");\r\n      return;\r\n    } else setHeadImg(`http://q4.qlogo.cn/g?b=qq&nk=${value}&s=3`);\r\n  };\r\n\r\n  const handleReply = (fitem: InteractDataI, citem?: InteractDataChildrenI) => {\r\n    const data = { ...fitem };\r\n    if (citem) {\r\n      // 说明是对回复的回复，将属性进行覆盖\r\n      data.name = citem.name;\r\n      data.context = citem.context;\r\n      data.email = citem.email;\r\n      data.is_master = citem.is_master;\r\n    }\r\n    setReply({ replyItem: data, isReply: true });\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setReply({ replyItem: null, isReply: false });\r\n  };\r\n\r\n  const masterReply = (fitem: InteractDataI, citem?: InteractDataChildrenI) => {\r\n    checkLogin()\r\n      .then((res) => {\r\n        if (res.code === 200) {\r\n          const data = { ...fitem };\r\n          if (citem) {\r\n            // 说明是对回复的回复，将属性进行覆盖\r\n            data.name = citem.name;\r\n            data.context = citem.context;\r\n            data.email = citem.email;\r\n            data.is_master = citem.is_master;\r\n          }\r\n          setReply({ replyItem: data, isReply: true });\r\n        } else {\r\n          message.info(\"不好意思，这位朋友设置了仅博主回复\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error in checkLogin in Interact.masterReply()\", error);\r\n      });\r\n  };\r\n\r\n  // 获取留言\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    getInteract()\r\n      .then((res) => {\r\n        console.log(\"getInteract\", res);\r\n        setInteractData(res.data);\r\n        setLoading(false);\r\n      })\r\n      .catch((error) => {\r\n        message.error(\"不好意思，服务器出错了\");\r\n        console.log(error);\r\n        setLoading(false);\r\n      });\r\n  }, [counter]);\r\n\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <Container title=\"留言板\">\r\n        <div className={style[\"interact-wrap\"]}>\r\n          <div className={style[\"interact-title\"]}>\r\n            <div className={style[\"interact-title-header\"]}>\r\n              Junior_Lee 的留言板\r\n            </div>\r\n            <div className={style[\"interact-title-context-wrap\"]}>\r\n              <div className={style[\"interact-title-context\"]}>\r\n                <div className={style[\"context-line\"]}>\r\n                  If I should meet thee\r\n                </div>\r\n                <div className={style[\"context-line\"]}>After long years,</div>\r\n                <div className={style[\"context-line\"]}>\r\n                  How should I greet thee?\r\n                </div>\r\n                <div className={style[\"context-line\"]}>\r\n                  With silence and tears.\r\n                </div>\r\n                <br />\r\n                <div className={style[\"context-line\"]}>若我在见到你，</div>\r\n                <div className={style[\"context-line\"]}>事搁经年，</div>\r\n                <div className={style[\"context-line\"]}>我该如何贺你？</div>\r\n                <div className={style[\"context-line\"]}>以沉默，以眼泪。</div>\r\n                <div className={style[\"context-author\"]}>——拜伦</div>\r\n              </div>\r\n              <img src={genji} alt=\"\" className={style[\"poster\"]} />\r\n            </div>\r\n          </div>\r\n          <div id=\"reply-holder\"></div>\r\n          <div className={style[\"interact-edit-wrap\"]}>\r\n            <div className={style[\"interact-edit-header\"]}>留个言吧~</div>\r\n            {reply?.isReply ? (\r\n              <div className={style[\"interact-reply\"]}>\r\n                <div className={style[\"reply-item\"]}>\r\n                  回复{\" \"}\r\n                  {reply?.replyItem?.is_master ? (\r\n                    <span className={style[\"master\"]}>博主</span>\r\n                  ) : (\r\n                    reply?.replyItem?.name\r\n                  )}{\" \"}\r\n                  的一条留言：\r\n                </div>\r\n                <div className={style[\"reply-item\"]}>\r\n                  {reply?.replyItem?.context}\r\n                </div>\r\n                <div className={style[\"reply-item\"]}>\r\n                  <a onClick={handleCancel}>取消回复</a>\r\n                </div>\r\n              </div>\r\n            ) : null}\r\n\r\n            <Form\r\n              layout=\"horizontal\"\r\n              requiredMark={false}\r\n              form={form}\r\n              onFinish={addRow}\r\n            >\r\n              <Row justify=\"space-between\" style={{ marginBottom: \"5px\" }}>\r\n                <Col xs={20} sm={20} md={20} lg={20} xl={21}>\r\n                  <Form.Item\r\n                    name=\"name\"\r\n                    rules={[{ required: true, message: \"留个ID好分辨？\" }]}\r\n                  >\r\n                    <Input\r\n                      className={style[\"interact-inputarea\"]}\r\n                      placeholder=\"留个ID日后好相认？\"\r\n                    />\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col xs={4} sm={3} md={4} lg={4} xl={3}>\r\n                  {\" \"}\r\n                  {headImg == \"\" ? (\r\n                    <img\r\n                      src={defaultHeadImg}\r\n                      className={style[\"interact-headImg\"]}\r\n                      alt=\"\"\r\n                    />\r\n                  ) : (\r\n                    <img\r\n                      src={headImg}\r\n                      className={style[\"interact-headImg\"]}\r\n                      alt=\"\"\r\n                    />\r\n                  )}\r\n                </Col>\r\n              </Row>\r\n              <Form.Item\r\n                name=\"context\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"这也不能留个寂寞啊，来个战网ID好友位也行啊\",\r\n                  },\r\n                ]}\r\n              >\r\n                <Input.TextArea\r\n                  rows={6}\r\n                  className={style[\"interact-inputarea\"]}\r\n                  placeholder=\"旁友，来个战网ID好友位也行啊\"\r\n                />\r\n              </Form.Item>\r\n\r\n              <Row\r\n                className={style[\"interact-edit-subline\"]}\r\n                justify=\"space-between\"\r\n              >\r\n                <Col xs={24} sm={24} md={12} lg={12} xl={12}>\r\n                  <Row>\r\n                    <Col xs={2} sm={2} md={2} lg={2} xl={2}>\r\n                      <MailOutlined className={style[\"email\"]} />\r\n                    </Col>\r\n                    <Col xs={20} sm={20} md={20} lg={20} xl={20}>\r\n                      <Form.Item\r\n                        name=\"email\"\r\n                        rules={[\r\n                          { required: true, message: \"旁友，你的邮箱还没留呐\" },\r\n                        ]}\r\n                      >\r\n                        <Input\r\n                          className={style[\"email-input\"]}\r\n                          placeholder=\"你的QQ邮箱~\"\r\n                          onChange={handleMail}\r\n                        />\r\n                      </Form.Item>\r\n                    </Col>\r\n                  </Row>\r\n                </Col>\r\n                <Col xs={24} sm={24} md={12} lg={12} xl={12}>\r\n                  <Row justify=\"end\">\r\n                    <Col style={{ marginRight: \"15px\" }}>\r\n                      <span className={style[\"canreply\"]}>\r\n                        是否仅博主回复：\r\n                      </span>\r\n                      <Form.Item name=\"canreply\" noStyle={true}>\r\n                        <Switch\r\n                          checked={singleReply}\r\n                          checkedChildren=\"开\"\r\n                          unCheckedChildren=\"关\"\r\n                          onChange={(checked: boolean) =>\r\n                            setSingleReply(checked)\r\n                          }\r\n                        />\r\n                      </Form.Item>\r\n                    </Col>\r\n                    <Col>\r\n                      <Button\r\n                        className={style[\"interact-submit\"]}\r\n                        htmlType=\"submit\"\r\n                        //   onClick={() => .submit()}\r\n                      >\r\n                        留言\r\n                      </Button>\r\n                    </Col>\r\n                  </Row>\r\n                </Col>\r\n              </Row>\r\n            </Form>\r\n          </div>\r\n          <div className={style[\"interact-list\"]}>\r\n            <div className={`${style[\"interact-list-header\"]}`}>留言列表</div>\r\n            {interactData.length > 0 ? (\r\n              <Loader loading={loading}>\r\n                {interactData.map((fitem: InteractDataI, index: number) => (\r\n                  <LazyLoad\r\n                    height={300}\r\n                    classNamePrefix=\"animated fadeInRight\"\r\n                    key={index}\r\n                  >\r\n                    <div className={style[\"interact-list-context\"]}>\r\n                      <Reply\r\n                        name={fitem.name}\r\n                        author={\r\n                          fitem.is_master ? (\r\n                            <span className={style[\"master\"]}>博主</span>\r\n                          ) : (\r\n                            fitem.name\r\n                          )\r\n                        }\r\n                        context={fitem.context}\r\n                        headImg={`http://q4.qlogo.cn/g?b=qq&nk=${fitem.email}&s=3`}\r\n                        reply={\r\n                          <span>\r\n                            {moment(new Date(fitem.create_time * 1000)).format(\r\n                              \"YYYY年MM月DD日 HH:mm:ss\"\r\n                            )}\r\n                            {fitem.can_reply ? (\r\n                              <a\r\n                                href=\"#reply-holder\"\r\n                                style={{ marginLeft: \"10px\" }}\r\n                                onClick={() => handleReply(fitem)}\r\n                              >\r\n                                回复\r\n                              </a>\r\n                            ) : (\r\n                              <span\r\n                                style={{ marginLeft: \"10px\" }}\r\n                                onClick={() => masterReply(fitem)}\r\n                              >\r\n                                这位朋友设置了仅博主回复\r\n                              </span>\r\n                            )}{\" \"}\r\n                          </span>\r\n                        }\r\n                      >\r\n                        {fitem.children.map(\r\n                          (citem: InteractDataChildrenI, index: number) => (\r\n                            <Reply\r\n                              key={index}\r\n                              name={citem.name}\r\n                              author={\r\n                                <span>\r\n                                  {citem.is_master ? (\r\n                                    <span className={style[\"master\"]}>\r\n                                      博主\r\n                                    </span>\r\n                                  ) : (\r\n                                    citem.name\r\n                                  )}{\" \"}\r\n                                  回复{\" \"}\r\n                                  {citem.fis_master ? (\r\n                                    <span className={style[\"master\"]}>\r\n                                      博主\r\n                                    </span>\r\n                                  ) : (\r\n                                    citem.fname\r\n                                  )}{\" \"}\r\n                                  ：\r\n                                </span>\r\n                              }\r\n                              context={citem.context}\r\n                              headImg={`http://q4.qlogo.cn/g?b=qq&nk=${citem.email}&s=3`}\r\n                              reply={\r\n                                <span>\r\n                                  {moment(\r\n                                    new Date(citem.create_time * 1000)\r\n                                  ).format(\"YYYY年MM月DD日 HH:mm:ss\")}\r\n                                  {citem.can_reply ? (\r\n                                    <a\r\n                                      href=\"#reply-a\"\r\n                                      style={{ marginLeft: \"10px\" }}\r\n                                      onClick={() => handleReply(fitem, citem)}\r\n                                    >\r\n                                      回复\r\n                                    </a>\r\n                                  ) : (\r\n                                    <span\r\n                                      style={{ marginLeft: \"10px\" }}\r\n                                      onClick={() => masterReply(fitem, citem)}\r\n                                    >\r\n                                      这位朋友设置了仅博主回复\r\n                                    </span>\r\n                                  )}{\" \"}\r\n                                </span>\r\n                              }\r\n                            ></Reply>\r\n                          )\r\n                        )}\r\n                      </Reply>\r\n                    </div>\r\n                  </LazyLoad>\r\n                ))}\r\n              </Loader>\r\n            ) : (\r\n              <div className={style[\"no-reply\"]}>暂时还没有留言噢~</div>\r\n            )}\r\n          </div>\r\n          <Divider dashed className={style[\"ending\"]}>\r\n            已经到底了\r\n          </Divider>\r\n        </div>\r\n\r\n        <>\r\n          <LeeCard />\r\n          <WechatCard />\r\n          <QQCard />\r\n        </>\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Interact;\r\n","D:\\git_workspace\\junior-blog\\src\\components\\Reply\\index.tsx",[],"D:\\git_workspace\\junior-blog\\src\\components\\QQCard\\index.tsx",[],"D:\\git_workspace\\junior-blog\\src\\components\\WechatCard\\index.tsx",[],"D:\\git_workspace\\junior-blog\\src\\pages\\Images\\index.tsx",[],"D:\\git_workspace\\junior-blog\\src\\pages\\Pictures\\index.js",["224","225","226","227"],"D:\\git_workspace\\junior-blog\\src\\components\\Images\\index.tsx",["228","229"],"import React, { useEffect, useRef, useState } from \"react\";\r\nimport Header from \"../../components/Header\";\r\nimport \"./picture.css\";\r\nimport { useImperativeDialog } from \"../../components/imperative-dialog\";\r\nimport ImageViewer from \"../../components/image-viewer\";\r\nimport { Col, Row, Spin, Tooltip } from \"antd\";\r\nimport { ImageDataI } from \"../../pages/Admin/ImageUpload\";\r\nimport { CopyOutlined, EyeOutlined } from \"@ant-design/icons\";\r\nimport {\r\n  ProductionImageUploadApi,\r\n  DevelopmentImageUploadApi,\r\n} from \"../../const\";\r\n\r\nconst baseUrl =\r\n  process.env.NODE_ENV === \"production\"\r\n    ? ProductionImageUploadApi\r\n    : DevelopmentImageUploadApi;\r\n\r\ninterface ImagesI {\r\n  category: string; // 图片分类\r\n  imageData: ImageDataI[]; // 图片数量\r\n  header?: boolean;\r\n}\r\n/**\r\n * 和 pages 中的 Images大致相同，只不过这个可以接收参数（之前那个路由组件传参不方便）\r\n * @param props : ImagesI\r\n */\r\nfunction Images(props: ImagesI) {\r\n  const { imageData, header = true } = props;\r\n\r\n  // const [data, setData] = useState<number[]>([]);\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const isload = useRef<number>(0);\r\n  const [modal, open] = useImperativeDialog(ImageViewer as any, {\r\n    images: imageData.map((item) => `${baseUrl}${item.source}`),\r\n  });\r\n\r\n  // useEffect(() => {\r\n  //   isload.current = 0;\r\n  //   console.log(\"images effect\");\r\n  //   let arr = new Array(74);\r\n  //   for (let i = 0; i < arr.length; ++i) {\r\n  //     arr[i] = i;\r\n  //   }\r\n  //   setData(arr);\r\n  // }, []);\r\n\r\n  const domPull = () => {\r\n    var main = document.getElementById(\"main\") as HTMLElement;\r\n    var box = document.getElementsByClassName(\"box\");\r\n    //实现瀑布流布局\r\n    // setTimeout(()=>{ //图片如未加载完成 则布局错误\r\n    waterFull(main, box);\r\n    // },1000)\r\n\r\n    // //加载数据\r\n    // var timer1: any = null;\r\n    // window.addEventListener(\"scroll\", function (e) {\r\n    //   if (timer1) clearTimeout(timer1);\r\n    //   //节流\r\n    //   timer1 = setTimeout(function () {\r\n    //     if (checkWillLoadNewBox(main, box)) {\r\n    //       //假数据模仿数据加载\r\n    //       let arr = new Array(74); //30-60数组\r\n    //       for (let i = 0; i < arr.length; i++) {\r\n    //         arr[i] = i;\r\n    //       }\r\n    //       //遍历数据\r\n    //       for (let i = 0; i < arr.length; i++) {\r\n    //         var newBox = document.createElement(\"div\");\r\n    //         newBox.className = \"box\";\r\n    //         main.appendChild(newBox);\r\n\r\n    //         var newPic = document.createElement(\"div\");\r\n    //         newPic.className = \"pic\";\r\n    //         newBox.appendChild(newPic);\r\n\r\n    //         var newImg = document.createElement(\"img\");\r\n    //         newImg.src =\r\n    //           \"https://www.jsfan.net/some/lifeimg/life%20(\" + arr[i] + \").jpg\";\r\n    //         console.log(\"newImg.src\", newImg.src);\r\n    //         // newImg.addEventListener('click',()=>{Zmage.browsing({ src:\"https://www.jsfan.net/some/lifeimg/life%20(\"+arr[i]+\").jpg\" })})\r\n    //         newPic.appendChild(newImg);\r\n    //       }\r\n    //       //重新进行瀑布流布局\r\n    //       waterFull(main, box);\r\n    //     }\r\n    //   }, 200);\r\n    // });\r\n\r\n    //页面尺寸发生改变重新布局\r\n    var timer2: any = null;\r\n    window.addEventListener(\"resize\", function () {\r\n      if (timer2) clearTimeout(timer2);\r\n      //节流\r\n      timer2 = setTimeout(function () {\r\n        waterFull(main, box);\r\n      }, 200);\r\n    });\r\n  };\r\n\r\n  const waterFull = (parent: any, child: any) => {\r\n    //(1)父盒子居中\r\n    //1.1 获取所有子盒子\r\n    //1.2 获取其中一个子盒子的宽度\r\n    try {\r\n      var boxWidth = child[0].offsetWidth;\r\n    } catch (error) {\r\n      return;\r\n    }\r\n\r\n    //1.3 获取窗口的宽度\r\n    // var screenW = document.body.clientWidth\r\n    //1.3 获取col的宽度\r\n    var coldom = document.getElementsByClassName(\"comm-left\")[0] as HTMLElement;\r\n    var screenW = coldom.offsetWidth as number;\r\n    // console.log(screenW)\r\n    //1.4 求出列数\r\n    var cols = Math.floor(screenW / boxWidth);\r\n    // console.log(cols)\r\n    //1.5 父盒子居中\r\n    parent.style.width = cols * boxWidth + \"px\";\r\n    parent.style.margin = \"0 auto\";\r\n\r\n    //(2)子盒子定位\r\n    //2.1 定义变量\r\n    var heightArr = [];\r\n    var boxHeight = 0;\r\n    var minBoxHeight = 0;\r\n    var minBoxIndex;\r\n    //2.2 遍历所有盒子获取高度\r\n    for (let i = 0; i < child.length; i++) {\r\n      boxHeight = child[i].offsetHeight;\r\n      //2.3 判断是否为第一行\r\n      if (i < cols) {\r\n        heightArr.push(boxHeight);\r\n        child[i].style = \"\"; //(响应式布局)保证第一行没有添加样式\r\n      } else {\r\n        //剩余行做定位\r\n        //2.4 取出数组中最矮盒子的高度\r\n        let arrSort = heightArr.slice(0); //sort排序后，会影响原始数组 解决方案\r\n        arrSort.sort(function (a, b) {\r\n          return a - b;\r\n        });\r\n        // console.log(arrSort[0]) //最小\r\n        //console.log(arrSort[arrSort.length-1]) //最大\r\n        minBoxHeight = arrSort[0];\r\n        //2.5 取出最矮盒子在数组中的索引\r\n        minBoxIndex = getMinBoxIndex(heightArr, minBoxHeight);\r\n        // console.log(minBoxIndex)\r\n        //2.6 剩余子盒子的定位\r\n        child[i].style.position = \"absolute\";\r\n        child[i].style.left = minBoxIndex * boxWidth + \"px\";\r\n        child[i].style.top = minBoxHeight + \"px\";\r\n      }\r\n      //2.7 更新高度\r\n      heightArr[minBoxIndex as number] += boxHeight;\r\n    }\r\n\r\n    // console.log(heightArr, minBoxHeight)\r\n    let arrSortmax = heightArr.slice(0); //sort排序后，会影响原始数组 解决方案\r\n    arrSortmax.sort(function (a, b) {\r\n      return a - b;\r\n    });\r\n    // console.log(arrSortmax[arrSortmax.length-1]) //最大\r\n    coldom.style.height = arrSortmax[arrSortmax.length - 1] + \"px\";\r\n  };\r\n  const getMinBoxIndex = (arr: any, val: any) => {\r\n    for (var i = 0; i < arr.length; i++) {\r\n      if (arr[i] === val) {\r\n        return i;\r\n      }\r\n    }\r\n    return 0;\r\n  };\r\n  // const checkWillLoadNewBox = (parent: any, child: any) => {\r\n  //   //1. 获取最后的盒子\r\n  //   var lastBox = child[child.length - 1];\r\n  //   //2. 求最后盒子高度的一半\r\n  //   try {\r\n  //     var lastBoxDis = lastBox.offsetHeight * 0.5 + lastBox.offsetTop;\r\n  //   } catch (error) {\r\n  //     return;\r\n  //   }\r\n\r\n  //   //3. 求出页面高度\r\n  //   var screenH =\r\n  //     document.body.clientHeight || document.documentElement.clientHeight;\r\n  //   //4. 求出页面滚出浏览器高度\r\n  //   var scrollTopH = document.documentElement.scrollTop;\r\n  //   //5. 返回结果\r\n  //   return lastBoxDis <= screenH + scrollTopH;\r\n  // };\r\n\r\n  const load = () => {\r\n    isload.current += 1;\r\n    if (isload.current === imageData.length) {\r\n      setLoading(false);\r\n      domPull();\r\n    }\r\n  };\r\n\r\n  useEffect(() => domPull(), [imageData]);\r\n\r\n  useEffect(() => {\r\n    imageData.length === 0 && setLoading(false);\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      {header ? <Header /> : null}\r\n\r\n      <Row\r\n        className=\"comm-main\"\r\n        justify={header ? \"center\" : \"start\"}\r\n        style={header ? { paddingTop: \"5rem\" } : { paddingTop: \"1rem\" }}\r\n      >\r\n        <Col\r\n          className=\"comm-left\"\r\n          xs={24}\r\n          sm={24}\r\n          md={23}\r\n          lg={23}\r\n          xl={header ? 18 : 24}\r\n          style={{\r\n            padding: 0,\r\n            backgroundColor: \"rgba(255,255,255,.4)\",\r\n            borderRadius: \"1rem\",\r\n          }}\r\n        >\r\n          <Spin tip=\"加载中...\" spinning={loading}>\r\n            <div id=\"main\">\r\n              {imageData.length > 0 ? (\r\n                imageData.map((item, key) => (\r\n                  <div className=\"box\" key={key}>\r\n                    <div className=\"pic\">\r\n                      <div className=\"suofanga\" style={{ overflow: \"hidden\" }}>\r\n                        <img\r\n                          className=\"divimg\"\r\n                          src={`${baseUrl}${item.source}`}\r\n                          onLoad={() => load()}\r\n                          alt=\"\"\r\n                        />\r\n                        <div className=\"cover\">\r\n                          <span\r\n                            onClick={(e) => {\r\n                              open({ initialIndex: key }, e);\r\n                            }}\r\n                          >\r\n                            <EyeOutlined />\r\n                          </span>\r\n                          <Tooltip\r\n                            title={`${baseUrl}${item.source}`}\r\n                            placement=\"top\"\r\n                          >\r\n                            <span>\r\n                              <CopyOutlined />\r\n                            </span>\r\n                          </Tooltip>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))\r\n              ) : (\r\n                <div\r\n                  style={{ padding: \"1rem\", fontSize: \"1rem\", color: \"#666\" }}\r\n                >\r\n                  该分类暂无图片。\r\n                </div>\r\n              )}\r\n            </div>\r\n          </Spin>\r\n        </Col>\r\n      </Row>\r\n      {modal}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default React.memo(Images);\r\n","D:\\git_workspace\\junior-blog\\src\\components\\ArticleTag\\index.tsx",["230"],"import React, { useEffect, useState } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { getArticleTags } from \"../../api/service\";\r\nimport style from \"./index.module.less\";\r\n\r\ninterface TagI {\r\n  id: number;\r\n  type: number;\r\n  type_name: string;\r\n}\r\nfunction ArticleTag() {\r\n  const [tags, setTags] = useState<TagI[]>([]);\r\n  const [currentIndex, setCurrentIndex] = useState<number>(-1);\r\n\r\n  // 获取文章标签\r\n  useEffect(() => {\r\n    getArticleTags().then((res) => {\r\n      //   console.log(\"res in article tags\", res);\r\n      setTags(res.data);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const path = window.location.pathname.split(\"/\");\r\n    let index = \"-1\";\r\n    if (path[1] === \"blog\") {\r\n      index = path[2].replace(/[^0-9]/gi, \"\");\r\n    }\r\n    // console.log(\"index\", index);\r\n    setCurrentIndex(parseInt(index));\r\n  });\r\n  return (\r\n    <div className={`${style[\"tag-wrap\"]} animated fadeInRight`}>\r\n      <div className={style[\"tag-header\"]}>文章分类</div>\r\n      <ul className={style[\"tag-context\"]}>\r\n        <Link to=\"/\">\r\n          <li\r\n            className={`${style[\"tag\"]} ${\r\n              currentIndex === -1 ? style[\"current\"] : \"\"\r\n            }`}\r\n          >\r\n            全部文章\r\n          </li>\r\n        </Link>\r\n        {tags.map((item) => (\r\n          <Link\r\n            to={{\r\n              pathname: \"/blog/tag\" + item.type,\r\n              state: { type: item.type },\r\n            }}\r\n            key={item.id}\r\n          >\r\n            <li\r\n              className={`${style[\"tag\"]} ${\r\n                currentIndex === item.type ? style[\"current\"] : \"\"\r\n              }`}\r\n            >\r\n              {item.type_name}\r\n            </li>\r\n          </Link>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(ArticleTag);\r\n","D:\\git_workspace\\junior-blog\\src\\pages\\About\\index.tsx",["231"],"import React from \"react\";\r\nimport Header from \"../../components/Header\";\r\nimport Container from \"../../components/Container\";\r\nimport LeeCard from \"../../components/LeeCard\";\r\nimport QQCard from \"../../components/QQCard\";\r\nimport WechatCard from \"../../components/WechatCard\";\r\nimport style from \"./index.module.less\";\r\nimport { Row } from \"antd\";\r\n\r\nconst friendlinks: FriendLinkProps[] = [\r\n  {\r\n    title: \"后盾人\",\r\n    imageSource:\r\n      \"https://houdunren-image.oss-cn-qingdao.aliyuncs.com/11552521685.png\",\r\n    description:\r\n      \"把JS和CSS讲得很清晰，特别是JS把JS和CSS讲得很清晰，特别是JS把JS和CSS讲得很清晰，特别是JS\",\r\n    url: \"www.houdunren.com\",\r\n  },\r\n  {\r\n    title: \"后盾人\",\r\n    imageSource:\r\n      \"https://houdunren-image.oss-cn-qingdao.aliyuncs.com/11552521685.png\",\r\n    description: \"把JS和CSS讲得很清晰，特别是JS\",\r\n    url: \"www.houdunren.com\",\r\n  },\r\n  {\r\n    title: \"后盾人\",\r\n    imageSource:\r\n      \"https://houdunren-image.oss-cn-qingdao.aliyuncs.com/11552521685.png\",\r\n    description: \"把JS和CSS讲得很清晰，特别是JS\",\r\n    url: \"www.houdunren.com\",\r\n  },\r\n  {\r\n    title: \"后盾人\",\r\n    imageSource:\r\n      \"https://houdunren-image.oss-cn-qingdao.aliyuncs.com/11552521685.png\",\r\n    description: \"把JS和CSS讲得很清晰，特别是JS\",\r\n    url: \"www.houdunren.com\",\r\n  },\r\n  {\r\n    title: \"后盾人\",\r\n    imageSource:\r\n      \"https://houdunren-image.oss-cn-qingdao.aliyuncs.com/11552521685.png\",\r\n    description: \"把JS和CSS讲得很清晰，特别是JS\",\r\n    url: \"www.houdunren.com\",\r\n  },\r\n];\r\n\r\nfunction About() {\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <Container title=\"关于\">\r\n        <>\r\n          <div className={style[\"about-wrap\"]}>\r\n            <h2 className={style[\"about-title\"]}>关于 Junior_Lee本人</h2>\r\n            <div className={style[\"about-text\"]}>\r\n              本人名为LJX(姓名拼音首字母)，性别男，90后，是一个比较感性的人。\r\n            </div>\r\n            <div className={style[\"about-text\"]}>\r\n              关于学习，本科和硕士分别就读于湖南某211和上海某985院校，专业均为软件工程，\r\n              但研究生期间的研究方向为测试方向，我本身是一个对很直观的看得见摸得着的东西更感兴趣些，所以在coding\r\n              这方面更喜欢前端开发，所以也是作为一个新人在摸索着，怀挺！在经历了某大厂的暑期实习后，\r\n              目前对于主流框架的掌握是React，之前也有过Vue开发，但后面没怎么用了，确实也忘了不少。当然了，\r\n              对于React以及前端的学习，要学习的还有不少。\r\n            </div>\r\n            <div className={style[\"about-text\"]}>\r\n              关于生活,毋庸置疑是个宅，但不肥(肥过，但某一年狂减25+斤，现在还在尽量维持)。喜欢\r\n              看视频和守望先锋，偶尔和朋友出去恰个饭，特别欢迎对OW、美剧和韩剧感兴趣的小伙伴！\r\n            </div>\r\n            <div className={style[\"about-text\"]}>想到什么再加吧~</div>\r\n            <h2 className={style[\"about-title\"]}>关于 这个博客</h2>\r\n            <div className={style[\"about-text\"]}>\r\n              前面也说了，在接触了解了前端这一方向后，发现这个体系是很庞大的，自己要学习的地方还有太多太多，基本的\r\n              Javascript、CSS，熟悉React、掌握Typescript、Webpack和NodeJS等等，以及设计模式、小程序等移动端开发，\r\n              自己要学习的东西还有太多太多。\r\n            </div>\r\n            <div className={style[\"about-text\"]}>\r\n              在浏览了各种“前端er”自己开发的酷炫的个人博客后，自己觉得这是一个不能跳过的锻炼机会，于是实现了目前这个相对来说比较简易的Blog，前后台的内容主要涉及React.js,\r\n              Typescript, Less,\r\n              Egg.js等，本人也会不断维护下去，同时把自己想分享的各种内容post上去，也欢迎各位大佬留言指点！\r\n            </div>\r\n          </div>\r\n          <div className={style[\"friendlink-wrapper\"]}>\r\n            <h2 className={style[\"about-title\"]}>友情链接</h2>\r\n            <Row justify=\"space-between\">\r\n              {friendlinks.map((item, index) => (\r\n                <FriendLink key={index} {...item} />\r\n              ))}\r\n            </Row>\r\n          </div>\r\n        </>\r\n        <>\r\n          <LeeCard />\r\n          <WechatCard />\r\n          <QQCard />\r\n        </>\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface FriendLinkProps {\r\n  title: string;\r\n  description: string;\r\n  url: string;\r\n  imageSource: string;\r\n}\r\n\r\nfunction FriendLink(props: FriendLinkProps) {\r\n  const { title, description, url, imageSource } = props;\r\n\r\n  return (\r\n    <div className={style[\"friendlink-item\"]}>\r\n      <a href={url} target=\"_blank\" className=\"animated bounceIn\">\r\n        <img src={imageSource} alt=\"\" />\r\n        <h2 className={style[\"friendlink-title\"]}>{title}</h2>\r\n        <p className={style[\"friendlink-description\"]} title={description}>\r\n          {description}\r\n        </p>\r\n      </a>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default About;\r\n",{"ruleId":"232","replacedBy":"233"},{"ruleId":"234","replacedBy":"235"},{"ruleId":"236","severity":1,"message":"237","line":12,"column":10,"nodeType":"238","messageId":"239","endLine":12,"endColumn":14},{"ruleId":"232","replacedBy":"240"},{"ruleId":"234","replacedBy":"241"},{"ruleId":"236","severity":1,"message":"242","line":1,"column":17,"nodeType":"238","messageId":"239","endLine":1,"endColumn":34},{"ruleId":"236","severity":1,"message":"243","line":1,"column":36,"nodeType":"238","messageId":"239","endLine":1,"endColumn":45},{"ruleId":"244","severity":1,"message":"245","line":137,"column":6,"nodeType":"246","endLine":137,"endColumn":31,"suggestions":"247"},{"ruleId":"244","severity":1,"message":"248","line":161,"column":6,"nodeType":"246","endLine":161,"endColumn":17,"suggestions":"249"},{"ruleId":"232","replacedBy":"250"},{"ruleId":"234","replacedBy":"251"},{"ruleId":"236","severity":1,"message":"252","line":33,"column":11,"nodeType":"238","messageId":"239","endLine":33,"endColumn":17},{"ruleId":"236","severity":1,"message":"253","line":27,"column":10,"nodeType":"238","messageId":"239","endLine":27,"endColumn":15},{"ruleId":"236","severity":1,"message":"254","line":27,"column":27,"nodeType":"238","messageId":"239","endLine":27,"endColumn":38},{"ruleId":"244","severity":1,"message":"255","line":85,"column":5,"nodeType":"246","endLine":85,"endColumn":20,"suggestions":"256"},{"ruleId":"244","severity":1,"message":"245","line":265,"column":6,"nodeType":"246","endLine":265,"endColumn":26,"suggestions":"257"},{"ruleId":"258","severity":1,"message":"259","line":264,"column":19,"nodeType":"260","endLine":264,"endColumn":45},{"ruleId":"261","severity":1,"message":"262","line":289,"column":28,"nodeType":"263","messageId":"264","endLine":289,"endColumn":30},{"ruleId":"265","severity":1,"message":"266","line":5,"column":10,"nodeType":"238","messageId":"239","endLine":5,"endColumn":29},{"ruleId":"265","severity":1,"message":"267","line":6,"column":8,"nodeType":"238","messageId":"239","endLine":6,"endColumn":19},{"ruleId":"261","severity":1,"message":"262","line":191,"column":16,"nodeType":"263","messageId":"264","endLine":191,"endColumn":18},{"ruleId":"268","severity":1,"message":"269","line":228,"column":25,"nodeType":"260","endLine":237,"endColumn":27},{"ruleId":"244","severity":1,"message":"270","line":203,"column":30,"nodeType":"246","endLine":203,"endColumn":41,"suggestions":"271"},{"ruleId":"244","severity":1,"message":"272","line":207,"column":6,"nodeType":"246","endLine":207,"endColumn":8,"suggestions":"273"},{"ruleId":"244","severity":1,"message":"274","line":23,"column":3,"nodeType":"238","endLine":23,"endColumn":12,"suggestions":"275"},{"ruleId":"276","severity":1,"message":"277","line":115,"column":21,"nodeType":"278","endLine":115,"endColumn":36},"no-native-reassign",["279"],"no-negated-in-lhs",["280"],"@typescript-eslint/no-unused-vars","'Spin' is defined but never used.","Identifier","unusedVar",["279"],["280"],"'PropsWithChildren' is defined but never used.","'ReactNode' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'props.history'. Either include it or remove the dependency array.","ArrayExpression",["281"],"React Hook useEffect has missing dependencies: 'data?.id' and 'data?.remark'. Either include them or remove the dependency array.",["282"],["279"],["280"],"'source' is assigned a value but never used.","'token' is assigned a value but never used.","'removeToken' is assigned a value but never used.","React Hook useCallback has missing dependencies: 'deserializer', 'options', and 'state'. Either include them or remove the dependency array.",["283"],["284"],"jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-unused-vars","'useImperativeDialog' is defined but never used.","'ImageViewer' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","React Hook useEffect has a missing dependency: 'domPull'. Either include it or remove the dependency array.",["285"],"React Hook useEffect has a missing dependency: 'imageData.length'. Either include it or remove the dependency array.",["286"],"React Hook useEffect contains a call to 'setCurrentIndex'. Without a list of dependencies, this can lead to an infinite chain of updates. To fix this, pass [] as a second argument to the useEffect Hook.",["287"],"react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","JSXAttribute","no-global-assign","no-unsafe-negation",{"desc":"288","fix":"289"},{"desc":"290","fix":"291"},{"desc":"292","fix":"293"},{"desc":"294","fix":"295"},{"desc":"296","fix":"297"},{"desc":"298","fix":"299"},{"desc":"300","fix":"301"},"Update the dependencies array to be: [props.history, props.location.pathname]",{"range":"302","text":"303"},"Update the dependencies array to be: [data?.id, data?.remark, isAsisted]",{"range":"304","text":"305"},"Update the dependencies array to be: [deserializer, key, options, state]",{"range":"306","text":"307"},"Update the dependencies array to be: [props.history, props.match.params]",{"range":"308","text":"309"},"Update the dependencies array to be: [domPull, imageData]",{"range":"310","text":"311"},"Update the dependencies array to be: [imageData.length]",{"range":"312","text":"313"},"Add dependencies array: []",{"range":"314","text":"315"},[4457,4482],"[props.history, props.location.pathname]",[5024,5035],"[data?.id, data?.remark, isAsisted]",[2546,2561],"[deserializer, key, options, state]",[8721,8741],"[props.history, props.match.params]",[6358,6369],"[domPull, imageData]",[6451,6453],"[imageData.length]",[857,857],", []"]